<?xml version='1.0' encoding='UTF-8'?>
<features name="karaf-features-karaf-${project.version}">

    <repository>mvn:org.switchyard.karaf/switchyard/${version.switchyard}/xml/features</repository>
    <repository>mvn:org.drools/drools-karaf-features/${version.org.kie}/xml/features</repository>

    <feature name="kie-camel" version="${version.org.drools}">
        <feature version="${version.org.drools}">kie-spring</feature>
        <feature version="${version.org.drools}">jbpm</feature>
        <feature>camel-core</feature>
        <feature>camel-spring</feature>
        <feature>camel-cxf</feature>
        <feature version="[2.6,3.0)">cxf-specs</feature>
        <feature version="[2.6,3.0)">cxf-core</feature>
        <feature version="[2.6,3.0)">cxf-jaxrs</feature>
        <bundle>mvn:org.kie/kie-camel/${version.org.drools}</bundle>
    </feature>

    <feature name="fuse-bxms-switchyard-common-knowledge" version="${project.version}" resolver="(obr)">
        <feature>jndi</feature>
        <feature version="${version.org.hibernate.features}">hibernate</feature>
        <feature version="${version.switchyard}">switchyard</feature>
        <feature version="${version.org.drools}">drools-decisiontable</feature>
        <feature version="${version.org.jbpm}">jbpm</feature>
        <bundle>wrap:mvn:org.eclipse.aether/aether-api/${version.org.eclipse.aether.aether-api}</bundle><!-- ${version.org.eclipse.aether} -->
        <bundle>wrap:mvn:org.jbpm/jbpm-executor/${version.org.jbpm}$DynamicImport-Package=org.hibernate.*,javassist.*</bundle>
        <bundle>wrap:mvn:org.jbpm/jbpm-workitems/${version.org.jbpm}</bundle>
        <bundle>wrap:mvn:org.kie/kie-ci/${version.org.kie}</bundle>
        <bundle>mvn:org.kie/kie-ci-osgi/${version.org.kie}</bundle>
        <bundle>wrap:mvn:org.kie.remote/kie-remote-client/${version.org.kie}</bundle>
        <bundle>wrap:mvn:org.kie.remote/kie-remote-common/${version.org.kie}</bundle>
        <bundle>wrap:mvn:org.kie.remote/kie-remote-jaxb/${version.org.kie}</bundle>
        <bundle>mvn:org.switchyard.components/switchyard-component-common/${version.switchyard}</bundle>
        <bundle>mvn:org.jboss.integration.fuse/switchyard-component-common-knowledge/${project.version}</bundle>
        <bundle>mvn:org.jboss.integration.fuse/switchyard-component-common-knowledge-osgi/${project.version}</bundle>
    </feature>
    <feature name="fuse-bxms-switchyard-rules" version="${project.version}" resolver="(obr)">
        <feature version="${project.version}">fuse-bxms-switchyard-common-knowledge</feature>
        <bundle>mvn:org.jboss.integration.fuse/switchyard-component-rules/${project.version}</bundle>
    </feature>
    <feature name="fuse-bxms-switchyard-bpm" version="${project.version}" resolver="(obr)">
        <feature version="${project.version}">fuse-bxms-switchyard-common-knowledge</feature>
        <bundle>mvn:org.jboss.integration.fuse/switchyard-component-bpm/${project.version}</bundle>
    </feature>


</features>
